

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>modelcreator.salesforecaster package &mdash; Retailanalyzer  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/restyle.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="modelcreator.purchasepredictor package" href="modelcreator.purchasepredictor.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Retailanalyzer
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">modelcreator</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modelcreator.html">modelcreator package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="modelcreator.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="modelcreator.datahandler.html">modelcreator.datahandler package</a></li>
<li class="toctree-l4"><a class="reference internal" href="modelcreator.productrecommender.html">modelcreator.productrecommender package</a></li>
<li class="toctree-l4"><a class="reference internal" href="modelcreator.purchasepredictor.html">modelcreator.purchasepredictor package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">modelcreator.salesforecaster package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="modelcreator.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="modelcreator.html#module-modelcreator.exception">modelcreator.exception module</a></li>
<li class="toctree-l3"><a class="reference internal" href="modelcreator.html#module-modelcreator.model_creator">modelcreator.model_creator module</a></li>
<li class="toctree-l3"><a class="reference internal" href="modelcreator.html#module-modelcreator.model_creator_utils">modelcreator.model_creator_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="modelcreator.html#module-modelcreator">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Retailanalyzer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">modelcreator</a> &raquo;</li>
        
          <li><a href="modelcreator.html">modelcreator package</a> &raquo;</li>
        
      <li>modelcreator.salesforecaster package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/modelcreator.salesforecaster.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="modelcreator-salesforecaster-package">
<h1>modelcreator.salesforecaster package<a class="headerlink" href="#modelcreator-salesforecaster-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-modelcreator.salesforecaster.arima_forecaster">
<span id="modelcreator-salesforecaster-arima-forecaster-module"></span><h2>modelcreator.salesforecaster.arima_forecaster module<a class="headerlink" href="#module-modelcreator.salesforecaster.arima_forecaster" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">ARIMAForecaster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_series</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_box_cox</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_existing_model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">logging.Logger</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">interface.interface.ImplementsIForecaster</span></code></p>
<p>Wrapper for an ARIMA forecaster.</p>
<p>The ARIMAForecaster class provides the following functionality:</p>
<blockquote>
<div><ul class="simple">
<li><p>Get the best model in terms of AIC for given hyperparameters through grid search with cross-validation</p></li>
<li><p>RSME across CV-splits is also calculated</p></li>
<li><p>Loading of pre-existing models via the name attribute</p></li>
<li><p>Making forecasts for n periods into the future</p></li>
</ul>
</div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed name used to identify the forecaster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._time_series">
<span class="sig-name descname"><span class="pre">_time_series</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed time series on which the forecaster is trained and tested on.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._transform_data">
<span class="sig-name descname"><span class="pre">_transform_data</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._transform_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed bool that defines if a Box-Cox transformation should be applied.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._load_model">
<span class="sig-name descname"><span class="pre">_load_model</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed bool that defines if a pre-existing model with the same name should be loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._logger">
<span class="sig-name descname"><span class="pre">_logger</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed logger to track execution steps or errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Logger</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._model_subdirectory">
<span class="sig-name descname"><span class="pre">_model_subdirectory</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._model_subdirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Subdirectory name consisting of the class-name.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._save_file_format">
<span class="sig-name descname"><span class="pre">_save_file_format</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._save_file_format" title="Permalink to this definition">¶</a></dt>
<dd><p>File format used to store the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._model_path">
<span class="sig-name descname"><span class="pre">_model_path</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._model_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the stored model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._evaluation_dir_path">
<span class="sig-name descname"><span class="pre">_evaluation_dir_path</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._evaluation_dir_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the directory where the model evaluations are stored.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._evaluation_file_path">
<span class="sig-name descname"><span class="pre">_evaluation_file_path</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._evaluation_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the model evaluation file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._final_model">
<span class="sig-name descname"><span class="pre">_final_model</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._final_model" title="Permalink to this definition">¶</a></dt>
<dd><p>A trained pmdarima ARIMA model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ARIMA</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._final_transformer">
<span class="sig-name descname"><span class="pre">_final_transformer</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._final_transformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Data transformer used for transforming the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Transformer</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._box_cox_lambda2">
<span class="sig-name descname"><span class="pre">_box_cox_lambda2</span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._box_cox_lambda2" title="Permalink to this definition">¶</a></dt>
<dd><p>Value to add to the time series values to make it non-negative/non-zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._build_model">
<span class="sig-name descname"><span class="pre">_build_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seasonal_order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pmdarima.arima.arima.ARIMA</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._build_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds an ARIMA model and returns it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>tuple</em>) – Defines the order of the ARIMA model and has the form (p, d, q).</p></li>
<li><p><strong>seasonal_order</strong> (<em>tuple</em>) – Defines the seasonal order of the ARIMA model and has the form (P, D, Q, m).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An ARIMA model from pmdarima built according to the given orders.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._check_hyperparameters_validity">
<span class="sig-name descname"><span class="pre">_check_hyperparameters_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hyperparameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._check_hyperparameters_validity" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the given hyperparameters are valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hyperparameters</strong> (<em>dict</em>) – A dict of the form {‘parameter_1’: [value_1, value_2, …], ‘parameter_2’: […], …}.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the hyperparameters have the wrong type.</p></li>
<li><p><strong>ValueError</strong> – If hyperparameters are an empty dict or the a parameter has no attached value list.</p></li>
<li><p><strong>KeyError</strong> – If necassary keys are absent.</p></li>
<li><p><strong>NameError</strong> – If invalid parameter names are present</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._execute_grid_search_step">
<span class="sig-name descname"><span class="pre">_execute_grid_search_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">training_data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cv</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._execute_grid_search_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Single parameter combination grid-search step.</p>
<p>Executes a single grid-search step based on a single parameter combination. This includes:</p>
<blockquote>
<div><ul class="simple">
<li><p>The transformation of the parameters into ARIMA orders</p></li>
<li><p>Splitting the data based on the given cross-validation generator</p></li>
<li><p>Building the model with the transformed parameter combination</p></li>
<li><p>Fitting and testing the model on each cv-split</p></li>
<li><p>Calulting the error metric for each cv-split</p></li>
<li><p>Returning the transformed paramters and the mean cv error</p></li>
</ul>
</div></blockquote>
<p>The function is called for every parameter combination in the parameter grid by the <code class="docutils literal notranslate"><span class="pre">_perform_grid_search()</span></code> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameters</strong> (<em>dict</em>) – Parameter combination in the form of a dict. For example {‘p’: 1, ‘d’: 1, ‘q’: 1, ‘P’: 1, ‘D’: 0, ‘Q’: 2, m=52}.</p></li>
<li><p><strong>training_data</strong> (<em>array</em>) – Training data in the form of a numpy array with shape (n_samples,), representing the values of the time series.</p></li>
<li><p><strong>cv</strong> (<em>cross-validation generator</em>) – A cross-validation generator that features a <code class="docutils literal notranslate"><span class="pre">get_n_splits()</span></code> and <code class="docutils literal notranslate"><span class="pre">split()</span></code> method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(((2, 0, 1), (0, 0, 0, 0)), 69041.5458, 705.1763).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A tuple in the form of (orders, rmse, aic), where orders is again a tuple containing two tuples representing order and seasonal order for an ARIMA model, while rmse is a float value quantifying the mean cross-validation rmse and aic is a float value quantifying the mean cross-validation AIC. An example would be</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._get_best_result">
<span class="sig-name descname"><span class="pre">_get_best_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_search_result</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._get_best_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Get best grid-search result</p>
<p>Get the best grid-search result in form of (best order, best mean cv-error).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>grid_search_result</strong> (<em>list</em>) – The result of the grid-search in form of a list containing tuples. For example a grid-search with two parameter-combinations and thus two results: [(((1, 0, 1), (0, 0, 0, 0)), 68348.42647101967, 698.3847), (((2, 0, 1), (0, 0, 0, 0)), 69041.5458, 705.1763)].</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(((1, 0, 1), (0, 0, 0, 0)), 68348.4264, 705.1763).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A tuple including in the form (best orders, mean cv rmse, best mean AIC), where best orders is again a tuple including the order and seasonal order for an ARIMA model, while the mean cv rmse is a float value quantifying the mean cross-validation rmse corresponding to the best mean AIC, which is also a float value. An example would be</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._interfaces">
<span class="sig-name descname"><span class="pre">_interfaces</span></span><em class="property"> <span class="pre">=</span> <span class="pre">frozenset({})</span></em><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._interfaces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._load_existing_ARIMA_forecaster">
<span class="sig-name descname"><span class="pre">_load_existing_ARIMA_forecaster</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._load_existing_ARIMA_forecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads an existing ARIMA forecaster.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="modelcreator.html#modelcreator.exception.ModelNotFoundError" title="modelcreator.exception.ModelNotFoundError"><strong>ModelNotFoundError</strong></a> – If there is no pre-existing ARIMA forecaster under the specified path <code class="docutils literal notranslate"><span class="pre">_model_path</span></code>.</p></li>
<li><p><a class="reference internal" href="modelcreator.html#modelcreator.exception.IncompatibleDataError" title="modelcreator.exception.IncompatibleDataError"><strong>IncompatibleDataError</strong></a> – If the loaded model was trained on transformed data but apply_box_cox is set to False or the loaded model was trained on original data but apply_box_cox is set to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._parameters_to_orders">
<span class="sig-name descname"><span class="pre">_parameters_to_orders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter_combination</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._parameters_to_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform parameters to ARIMA orders.</p>
<p>A single parameter-combination in form of a dict is transformed into ARIMA orders of form order (p,d,q) and seasonal order (P, D, Q, m).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameter_combination</strong> (<em>dict</em>) – Single parameter combination in form of a dict. For example: {‘p’: 1, ‘d’: 1, ‘q’: 1, ‘P’: 1, ‘D’: 0, ‘Q’: 2, m=52}.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple representing the orders for an ARIMA model in the form of ((p,d,q), (P, D, Q, m)). For Example ((2,1,0) (1,0,2,52)).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._perform_grid_search">
<span class="sig-name descname"><span class="pre">_perform_grid_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hyperparameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">training_data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._perform_grid_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a grid-search with cross validation using the given hyperparameters.</p>
<p>Based on the given parameter grid, a grid-search with CV (TimeSeriesSplit with 5 splits, predicting 8 time steps at each) is executed and the best resulting model in terms of AIC and its paramters are returned. This function also takes care of evaluating the best model and plotting the predictions as time series (plots are stored on disk).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hyperparameters</strong> (<em>dict</em>) – Hyperparameters used for model building as dict of the form {‘parameter_1’: [value_1, value_2, …], ‘parameter_2’: […], …}.</p></li>
<li><p><strong>training_data</strong> (<em>array</em>) – Training data in the form of a numpy array with shape (n_samples, 1), representing the time series part.</p></li>
<li><p><strong>test_data</strong> (<em>array</em>) – Test data in the form of a numpy array with shape (n_samples, 1), representing the time series part.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em>) – Number of jobs to run in parallel. More specifically how many grid-search steps are executed in parallel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple containing the best model and its parameters of form (best_model, best_params), where <code class="docutils literal notranslate"><span class="pre">best_model</span></code> is is a pmdarima ARIMA model and <code class="docutils literal notranslate"><span class="pre">best_params</span></code> is a tuple containing the orders of the model of the form ((p, d, q), (P, D, Q, m)) is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._remove_inappropriate_combinations">
<span class="sig-name descname"><span class="pre">_remove_inappropriate_combinations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paramter_combinations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._remove_inappropriate_combinations" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes inappropriate parameter-grid combinations.</p>
<p>Removes ARIMA settings in form of a parameter grid that would make no sense, for example the setting (p,d,q) (1,0,2,0), which would have no seasonality (m=0) but non-zero seasonal terms ((Q, P, D) != 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameter_combinations</strong> (<em>list</em>) – A list that containes paramter combinations in form of a dict, for example: [{‘p’: 1, ‘d’: 1, ‘q’: 1, ‘P’: 1, ‘D’: 0, ‘Q’: 2, m=52}, {…}, …].</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict in the same format as the input dict that only contains appropriate settings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._set_final_model">
<span class="sig-name descname"><span class="pre">_set_final_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pmdarima.arima.arima.ARIMA</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster._set_final_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a final forecasting model</p>
<p>Builds a final forecasting model with the given parameters and trains it on the given time series. The model is then stored on disk as tuple where the first element is the model and the second element is a bool defining if the data the model was built on was transformed (true) or not (false).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameters</strong> (<em>tuple</em>) – A tuple representing the order for an ARIMA model in the form of ((p, d, q), (P, D, Q, m)).</p></li>
<li><p><strong>data</strong> (<em>array</em>) – A time series in the form of a np.ndarray with shape(n_samples, 1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster.initialize_forecaster">
<span class="sig-name descname"><span class="pre">initialize_forecaster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hyperparameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster.initialize_forecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes ARIMAForecaster instance.</p>
<p>This function includes the following steps:</p>
<blockquote>
<div><ul class="simple">
<li><p>Fit the transformer if _transform_data is True</p></li>
<li><p>Create a subfolder for the ARIMAForecaster in the models and evaluation folder if it does not exist already</p></li>
<li><p>Create an evaluation file for the the forecaster</p></li>
<li><p>Prepare data for subsequent steps (train-test split)</p></li>
<li><dl class="simple">
<dt>Perform grid search and find best model</dt><dd><ul>
<li><p>Evaluate the model on the hold-out test set</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">_final_model</span></code> attribute with a model trained on the whole time series</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test_size</strong> (<em>int</em><em> or </em><em>float</em>) – How many samples of the given time series should be used as a hold-out test set. If float (should be between 0.0 and 1.0), the value represents the proportion of the dataset used as test samples. If int the value represents the absolute number of test samples.</p></li>
<li><p><strong>hyperparameters</strong> (<em>dict</em>) – Hyperparameters used for model building as dict of the form {‘parameter_1’: [value_1, value_2, …], ‘parameter_2’: […], …}.</p></li>
<li><p><strong>**kwargs</strong> – Additional parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If hyperparmeters are not specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster.make_forecast">
<span class="sig-name descname"><span class="pre">make_forecast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_periods</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.series.Series</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.arima_forecaster.ARIMAForecaster.make_forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a forecast for <code class="docutils literal notranslate"><span class="pre">n_periods</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n_periods</strong> (<em>int</em>) – Defines the number of future periods to forecast.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A time series of type pd.Series, where the index consists of the future n timesteps and the values quantify the future observations (aggregated sales)  corresponding to the predicted timesteps.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="modelcreator.html#modelcreator.exception.NoTrainedModelError" title="modelcreator.exception.NoTrainedModelError"><strong>NoTrainedModelError</strong></a> – If there is no trained model to make forecasts with.</p></li>
<li><p><strong>ValueError</strong> – If n_periods is greater than 52 (a year).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-modelcreator.salesforecaster.forecaster_utils">
<span id="modelcreator-salesforecaster-forecaster-utils-module"></span><h2>modelcreator.salesforecaster.forecaster_utils module<a class="headerlink" href="#module-modelcreator.salesforecaster.forecaster_utils" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.LSTMReshaper">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">LSTMReshaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_timesteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_features</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.LSTMReshaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper class for LSTM Pipeline that reshapes the data to LSTM format sequence data (n_samples, n_timesteps, n_features).</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.LSTMReshaper.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.LSTMReshaper.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.LSTMReshaper.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.LSTMReshaper.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.TimeSeriesReshaper">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">TimeSeriesReshaper</span></span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.TimeSeriesReshaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper class for LSTM Pipeline that reshapes the sequence data (n_samples, n_timesteps) to time series format (n_samples, 1).</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.TimeSeriesReshaper.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.TimeSeriesReshaper.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.TimeSeriesReshaper.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.TimeSeriesReshaper.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.check_n_periods">
<span class="sig-name descname"><span class="pre">check_n_periods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_periods</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.check_n_periods" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if n_periods is in a certain range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n_periods</strong> (<em>int</em>) – Defines the number of future periods to forecast.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If n_periods is not in the expected range (&gt; 0 and &lt;= 52).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.get_sequence_data">
<span class="sig-name descname"><span class="pre">get_sequence_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_series</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.series.Series</span><span class="p"><span class="pre">,</span> </span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_lags</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_lags</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.get_sequence_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time series as sequence.</p>
<p>Transforms the time series into a sequence format for prediction with an LSTM model. For example with <code class="docutils literal notranslate"><span class="pre">input_lags=4</span></code> and <code class="docutils literal notranslate"><span class="pre">output_lags=1</span></code>, X1 = [t0, t1, t2, t3], y1 = [t4], X2 = [t1, t2, t3, t4], y2 = [t5], X3 = …</p>
<p>Utility function that is used by a LSTMForecaster in the data preparation steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_series</strong> (<em>Series</em><em> or </em><em>DataFrame</em>) – The time series that should be normalized as pd.Series or as pd.DataFrame with one column.</p></li>
<li><p><strong>input_lags</strong> (<em>int</em>) – Lags to use in the sequence.</p></li>
<li><p><strong>output_lags</strong> (<em>int</em>) – Lags to use in the traget.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the form (np.ndarray, np.ndarray) containing the input sequences as first element with shape (n_samples, <code class="docutils literal notranslate"><span class="pre">input_lags</span></code>) and the target as second element with shape (n_samples, 1).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.plot_forecast">
<span class="sig-name descname"><span class="pre">plot_forecast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_series</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forecast_series</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.series.Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">past_timesteps</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">12</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.plot_forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a plot for a forecast and stores them on disk.</p>
<p>Utility function that can be used by a forecaster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_series</strong> (<em>DataFrame</em>) – The original time series from which to take the last <code class="docutils literal notranslate"><span class="pre">past_timesteps</span></code> observations.</p></li>
<li><p><strong>forecast_series</strong> (<em>array</em>) – The forecasted values as pd.Series, where the index determines the future timesteps and the values the predicted sales.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – The title of the plot as string.</p></li>
<li><p><strong>save_path</strong> (<em>Path</em>) – The path to which the plot should be saved to as Path object.</p></li>
<li><p><strong>past_timesteps</strong> (<em>int</em>) – Determines the number of timesteps from the original time series to include in the plot.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.plot_predictions">
<span class="sig-name descname"><span class="pre">plot_predictions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_series</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predicted_data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'test'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_steps</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.plot_predictions" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates plots for training or test predictions and stores them on disk.</p>
<p>Utility function that can be used by a forecaster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_series</strong> (<em>DataFrame</em>) – The original time series to plot against as pd.DataFrame.</p></li>
<li><p><strong>predicted_data</strong> (<em>array</em>) – The predicted values as np.ndarray.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – The title of the plot as string.</p></li>
<li><p><strong>save_path</strong> (<em>Path</em>) – The path to which the plot should be saved to as Path object.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Determines for which type of prediction to plot (train = training data prediction, test = test data prediction).</p></li>
<li><p><strong>time_steps</strong> (<em>int</em>) – Time steps (sequence length) of the data used for LSTM-based forecaster.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.forecaster_utils.time_series_train_test_split">
<span class="sig-name descname"><span class="pre">time_series_train_test_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_series</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.forecaster_utils.time_series_train_test_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split time series into train and test sets.</p>
<p>Utility function is used by the ARIMAForecaster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_series</strong> (<em>array</em>) – The time series that should be normalized as np.ndarray with shape (n_samples, 1)</p></li>
<li><p><strong>test_size</strong> (<em>int</em><em> or </em><em>float</em>) – How many samples of the time series should be used as a hold-out test set. If float (should be between 0.0 and 1.0), the value represents the proportion of the dataset used as test samples. If int, the value represents the absolute number of test samples.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the form (np.ndarray, np.ndarray), where the training set is the first element with shape (n_train_samples,) and the testing set the second element with shape (n_test_samples).</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If test_size is out of range.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-modelcreator.salesforecaster.interface_forecaster">
<span id="modelcreator-salesforecaster-interface-forecaster-module"></span><h2>modelcreator.salesforecaster.interface_forecaster module<a class="headerlink" href="#module-modelcreator.salesforecaster.interface_forecaster" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.interface_forecaster.IForecaster">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">IForecaster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.interface_forecaster.IForecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">interface.interface.Interface</span></code></p>
<p>Forecaster interface.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.interface_forecaster.IForecaster._INTERFACE_IGNORE_MEMBERS">
<span class="sig-name descname"><span class="pre">_INTERFACE_IGNORE_MEMBERS</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'__new__',</span> <span class="pre">'from_class'}</span></em><a class="headerlink" href="#modelcreator.salesforecaster.interface_forecaster.IForecaster._INTERFACE_IGNORE_MEMBERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.interface_forecaster.IForecaster._defaults">
<span class="sig-name descname"><span class="pre">_defaults</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{}</span></em><a class="headerlink" href="#modelcreator.salesforecaster.interface_forecaster.IForecaster._defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.interface_forecaster.IForecaster._signatures">
<span class="sig-name descname"><span class="pre">_signatures</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'initialize_forecaster':</span> <span class="pre">&lt;TypedSignature</span> <span class="pre">type=function,</span> <span class="pre">signature=(self,</span> <span class="pre">test_size:</span> <span class="pre">Union[int,</span> <span class="pre">float],</span> <span class="pre">hyperparameters:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">**kwargs)&gt;,</span> <span class="pre">'make_forecast':</span> <span class="pre">&lt;TypedSignature</span> <span class="pre">type=function,</span> <span class="pre">signature=(self,</span> <span class="pre">n_periods:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">pandas.core.series.Series&gt;}</span></em><a class="headerlink" href="#modelcreator.salesforecaster.interface_forecaster.IForecaster._signatures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.interface_forecaster.IForecaster.from_class">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">existing_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.interface_forecaster.IForecaster.from_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an interface from an existing class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>existing_class</strong> (<em>type</em>) – The type from which to extract an interface.</p></li>
<li><p><strong>subset</strong> (<em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – List of methods that should be included in the interface.
Default is to use all attributes not defined in an empty class.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the generated interface.
Default is <code class="docutils literal notranslate"><span class="pre">existing_class.__name__</span> <span class="pre">+</span> <span class="pre">'Interface'</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>interface</strong> – A new interface class with stubs generated from <code class="docutils literal notranslate"><span class="pre">existing_class</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>type</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.interface_forecaster.IForecaster.initialize_forecaster">
<span class="sig-name descname"><span class="pre">initialize_forecaster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hyperparameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.interface_forecaster.IForecaster.initialize_forecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes forecaster instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test_size</strong> (<em>int</em><em> or </em><em>float</em>) – How many samples of the given time series should be used as a hold-out test set. If float (should be between 0.0 and 1.0), the value represents the proportion of the dataset used as test samples. If int the value represents the absolute number of test samples.</p></li>
<li><p><strong>hyperparameters</strong> (<em>dict</em>) – Hyperparameters used for model building as dict of the form {‘parameter_1’: [value_1, value_2, …], ‘parameter_2’: […], …}.</p></li>
<li><p><strong>**kwargs</strong> – Additional parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.interface_forecaster.IForecaster.make_forecast">
<span class="sig-name descname"><span class="pre">make_forecast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_periods</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.series.Series</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.interface_forecaster.IForecaster.make_forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a forecast for <code class="docutils literal notranslate"><span class="pre">n_periods</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n_periods</strong> (<em>int</em>) – Defines the number of future periods to forecast.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A time series of type pd.Series, where the index consists of the future n timesteps and the values quantify the future observations corresponding to the predicted timesteps.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-modelcreator.salesforecaster.lstm_forecaster">
<span id="modelcreator-salesforecaster-lstm-forecaster-module"></span><h2>modelcreator.salesforecaster.lstm_forecaster module<a class="headerlink" href="#module-modelcreator.salesforecaster.lstm_forecaster" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">LSTMForecaster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_series</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_existing_model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">logging.Logger</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">interface.interface.ImplementsIForecaster</span></code></p>
<p>Wrapper for an LSTM forecaster.</p>
<p>The LSTMForecaster class provides the following functionality:</p>
<blockquote>
<div><ul class="simple">
<li><p>Get the best model in terms of RMSE for given hyperparameters through grid search with cross-validation</p></li>
<li><p>Loading of pre-existing models with via the name attribute</p></li>
<li><p>Making forecasts for n periods into the future</p></li>
</ul>
</div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed name used to identify the forecaster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._time_series">
<span class="sig-name descname"><span class="pre">_time_series</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed time series on which the forecaster is trained and tested on.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._load_model">
<span class="sig-name descname"><span class="pre">_load_model</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed bool that defines if a pre-existing model with the same name should be loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._logger">
<span class="sig-name descname"><span class="pre">_logger</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed logger to track execution steps or errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Logger</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._random_state">
<span class="sig-name descname"><span class="pre">_random_state</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._random_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Passed random state as int for reproducible results.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._model_subdirectory">
<span class="sig-name descname"><span class="pre">_model_subdirectory</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._model_subdirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Subdirectory name consisting of the class-name.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._model_path">
<span class="sig-name descname"><span class="pre">_model_path</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._model_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the stored model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._evaluation_dir_path">
<span class="sig-name descname"><span class="pre">_evaluation_dir_path</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._evaluation_dir_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the directory where the model evaluations are stored.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._evaluation_file_path">
<span class="sig-name descname"><span class="pre">_evaluation_file_path</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._evaluation_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the model evaluation file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._scaler_range">
<span class="sig-name descname"><span class="pre">_scaler_range</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._scaler_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the range of the MinMaxScaler.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._final_model">
<span class="sig-name descname"><span class="pre">_final_model</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._final_model" title="Permalink to this definition">¶</a></dt>
<dd><p>A trained keras sequential model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Sequential</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._final_scaler">
<span class="sig-name descname"><span class="pre">_final_scaler</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._final_scaler" title="Permalink to this definition">¶</a></dt>
<dd><p>MinMaxScaler used for scaling the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Transformer</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._input_shape">
<span class="sig-name descname"><span class="pre">_input_shape</span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._input_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the input_shape of the form (n_timesteps, n_features) for the LSTM model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._build_model">
<span class="sig-name descname"><span class="pre">_build_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neurons_layer_1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neurons_layer_2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recurrent_dropout</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tensorflow.python.keras.engine.sequential.Sequential</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._build_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds an LSTM model and returns it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>neurons_layer_1</strong> (<em>int</em>) – Number of LSTM cells in the first layer, specified as integer.</p></li>
<li><p><strong>neurons_layer_2</strong> (<em>int</em>) – Number of LSTM cells in the second layer, specified as integer.</p></li>
<li><p><strong>recurrent_dropout</strong> (<em>float</em>) – Percentage of dropout between recurrent units (applied on second layer), specified as float.</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em>) – Learning rate for the optimizer, specified as float.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A keras sequential LSTM model built according to the given hyperparameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._check_hyperparameters_validity">
<span class="sig-name descname"><span class="pre">_check_hyperparameters_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hyperparameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._check_hyperparameters_validity" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the given hyperparameters are valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hyperparameters</strong> (<em>dict</em>) – A dict of the form {‘parameter_1’: [value_1, value_2, …], ‘parameter_2’: […], …}.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the hyperparameters have the wrong type.</p></li>
<li><p><strong>ValueError</strong> – If hyperparameters are an empty dict or the a parameter has no attached value list.</p></li>
<li><p><strong>NameError</strong> – If invalid parameter names are present.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._format_parameter_output">
<span class="sig-name descname"><span class="pre">_format_parameter_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._format_parameter_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats hyperparameters for printing.</p>
<p>Helper function to format model hyperparameters for writing them into the evaluation file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>dict</em>) – A dict defining the hyperparameters of the form {‘hyperparamer1’: value, ‘hyperparameter2’: value, …}.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A formatted string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._interfaces">
<span class="sig-name descname"><span class="pre">_interfaces</span></span><em class="property"> <span class="pre">=</span> <span class="pre">frozenset({})</span></em><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._interfaces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._load_existing_LSTM_forecaster">
<span class="sig-name descname"><span class="pre">_load_existing_LSTM_forecaster</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._load_existing_LSTM_forecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads an existing LSTM forecaster.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="modelcreator.html#modelcreator.exception.ModelNotFoundError" title="modelcreator.exception.ModelNotFoundError"><strong>ModelNotFoundError</strong></a> – If there is no pre-existing LSTM forecaster under the specified path <code class="docutils literal notranslate"><span class="pre">_model_path</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._perform_grid_search">
<span class="sig-name descname"><span class="pre">_perform_grid_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter_grid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_train</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_test</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_test</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._perform_grid_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a grid-search with cross validation using the given hyperparameters.</p>
<p>Based on the given parameter grid, a grid-search with CV (TimeSeriesSplit with 5 splits, predicting 8 time steps at each) is executed and the best resulting model in terms of RMSE and its paramters are returned. This function also takes care of evaluating the best model and plotting the predictions as time series (plots are stored on disk).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameter_grid</strong> (<em>dict</em>) – Hyperparameters used for model building as dict of the form {‘hyperparameter_1’: [value_1, value_2, …], ‘hyperparameter_2’: […], …}.</p></li>
<li><p><strong>X_train</strong> (<em>array</em>) – Training data as np.ndarray of shape (n_samples, n_timesteps).</p></li>
<li><p><strong>y_train</strong> (<em>array</em>) – Target values of training data as np.ndarray of shape (n_samples, 1).</p></li>
<li><p><strong>X_test</strong> (<em>array</em>) – Testing data for evaluating the performance of the model on a hold-out set as np.ndarray of shape (n_samples, n_timesteps)</p></li>
<li><p><strong>y_test</strong> (<em>array</em>) – Target values of test data as np.ndarray of shape (n_samples, 1).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>value, ‘hyperparameter_2’: value, …}.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A tuple containing the best model and its parameters of form (best_model, best_params), where <code class="docutils literal notranslate"><span class="pre">best_model</span></code> is is a keras sequential model and <code class="docutils literal notranslate"><span class="pre">params_best_model</span></code> is a dict containing the hyperparamter configuration of the form {‘hyperparameter_1’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._set_final_model">
<span class="sig-name descname"><span class="pre">_set_final_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hyperparameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tensorflow.python.keras.engine.sequential.Sequential</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster._set_final_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a final forecasting model.</p>
<p>Builds a final forecasting model with the given hyperparameters and trains it on the given data (should include the values of the whole time series). The model is then stored on disk and can then be used for forecasting via the <code class="docutils literal notranslate"><span class="pre">make_forecast()</span></code> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hyperparameters</strong> (<em>dict</em>) – A dict defining the hyperparameters of the form {‘hyperparamer1’: value, ‘hyperparameter2’: value, …}.</p></li>
<li><p><strong>X</strong> (<em>array</em>) – Values used for training in the form of sequences as np.ndarray with shape (n_samples, n_timesteps)</p></li>
<li><p><strong>y</strong> (<em>array</em>) – Target values as np.ndarray with shape (n_samples, 1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster.initialize_forecaster">
<span class="sig-name descname"><span class="pre">initialize_forecaster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hyperparameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster.initialize_forecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes LSTMForecaster instance.</p>
<p>This function includes the following steps:</p>
<blockquote>
<div><ul class="simple">
<li><p>Set the input shape for the lstm model (n_timesteps, n_features)</p></li>
<li><p>Create a subfolder for the LSTMForecaster in the models and evaluation folder if it does not exist already</p></li>
<li><p>Create an evaluation file for the the forecaster</p></li>
<li><p>Fit the MinMaxScaler</p></li>
<li><p>Prepare data for subsequent steps (transform to sequence data, train-test split)</p></li>
<li><dl class="simple">
<dt>Perform grid search and find best model</dt><dd><ul>
<li><p>Evaluate the model on the hold-out test set</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">_final_model</span></code> attribute with a model trained on the whole data</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test_size</strong> (<em>int</em><em> or </em><em>float</em>) – How many samples of the created sequences should be used as a hold-out test set. If float (should be between 0.0 and 1.0), the value represents the proportion of the dataset used as test samples. If int, the value represents the absolute number of test samples.</p></li>
<li><p><strong>hyperparameters</strong> (<em>dict</em>) – Hyperparameters used for model building as dict of the form {‘parameter_1’: [value_1, value_2, …], ‘parameter_2’: […], …}.</p></li>
<li><p><strong>**kwargs</strong> – Additional parameters. Takes lstm_timesteps and lstm_features (not supported, default of 1 is used).</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If hyperparmeters are not specified.</p></li>
<li><p><strong>TypeError</strong> – If lstm_timesteps or lstm_features are given and are not of type int.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster.make_forecast">
<span class="sig-name descname"><span class="pre">make_forecast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_periods</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.series.Series</span></span></span><a class="headerlink" href="#modelcreator.salesforecaster.lstm_forecaster.LSTMForecaster.make_forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a forecast for <code class="docutils literal notranslate"><span class="pre">n_periods</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n_periods</strong> (<em>int</em>) – Defines the number of future periods to forecast.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A time series of type pd.Series, where the index consists of the future n timesteps and the values quantify the future observations (aggregated sales) corresponding to the predicted timesteps.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="modelcreator.html#modelcreator.exception.NoTrainedModelError" title="modelcreator.exception.NoTrainedModelError"><strong>NoTrainedModelError</strong></a> – If there is no trained model to make forecasts with.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-modelcreator.salesforecaster">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-modelcreator.salesforecaster" title="Permalink to this headline">¶</a></h2>
<p>salesforecaster package</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="modelcreator.purchasepredictor.html" class="btn btn-neutral float-left" title="modelcreator.purchasepredictor package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Luckeneder Marcel.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>